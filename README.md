# тестовое задание на вакансию «HTML5 Game Developer»

[текст задания](https://nordbeaver.atlassian.net/wiki/external/720994660/YTliMTY2MjkzMzNiNDIxYzhjYzg1YmRiZmM3YThiNWI)

## структура проекта

- `rootdir\` - корневая папка проекта
    - `css` - папка со стилями
    - `dist` - папка с бандлом (собранным вебпаком)
    - `fonts` - папка со шрифтами
    - `images` - папка с изображениями
    - `js`  -   папка со сторонними библиотеками (pixi.js, etc)
    - `modules` - **папка с авторским кодом**
        - `animator` - **модули менеджера анимаций**
        - `components` - **модули многослойного анимированного компонента**
        - `polyfills`  - **используемые полифилы (при запуске игры без сборки вебпаком)**
        - `utils` - **вспомогательные модули**
        - `world` - **непосредствено модули касающиеся мира игры**
        - `class.keyboard.js` - **модуль обеспечивающий перехват событий клавиатуры**
        - `fake.network.js` - **модуль имитирующий загрузку данных по сети**
        - `main.js` - **главный файл приложения**
    - `resources` - **папка с конфигами многослойных анимированных компонентов и их ресурсами**
    - `index.html` - основной html файл игры
    - `README.md` - данное описание
    - `webpack.config.js` - простенький конфиг вебпака


## особенности реализации

Самая главная особенность - использование [многослойных анимированных компонентов](https://work.ragame.ru/api/tutorial-многослойные%20компоненты.html), являющихся собственной разработкой. 
Технически само задание не сложное, и в нем можно было обойтись без использования этих компонентов, но мне очень хотелось показать их возможности.

В [демо](https://game.ragame.ru/rabbit/) многослойными компонентами являются все формы пользовательского интерфейса и кролик)))

По факту, если рассмативать сногослойные анимированные компоненты в рамках **mvc, mvp** паттернов, то компоненты являются полноценным, хорошо инкапсулированным **view**

Так же отмечу, что все модули и компоненты игры снабжены комментариями (по большей части исчерпывающими).

## коротко об архитектуре игры

С некоторой натяжкой можно сказать что архитектура соотвествует принципам MVP

- [главный файл приложения main.js](https://github.com/lastuniverse/rabbit/blob/main/modules/main.js) обеспечивает инициализацию игрового движка, событийную модель взаимодействия между компонентами игры, подключение библиотек, классов и компонентов игры и последовательное следование подготовки игры через стадии:
    - инициализация - в конструкторе
    - загрузка ресурсов - метод `preload` и обработчики события `game.preload` в библиотеках, классах и компонентах игры
    - создание графического представления - метод `create` и обработчики события `game.create` в библиотеках, классах и компонентах игры
    - обновление состояний игры - метод `update` и обработчики события `game.update` в библиотеках, классах и компонентах игры
- [класс игрового мира class.world.js](https://github.com/lastuniverse/rabbit/blob/main/modules/world/class.world.js) реализует инициализацию игрового мира и его комонентов (
    [персонаж class.rabbit.js](https://github.com/lastuniverse/rabbit/blob/main/modules/world/class.rabbit.js),
    [препятствия class.stoppers.js](https://github.com/lastuniverse/rabbit/blob/main/modules/world/class.stoppers.js),
    [деревья class.trees.js](https://github.com/lastuniverse/rabbit/blob/main/modules/world/class.trees.js),
), а так же игровую механику их взаимодействия
- [многослойные компоненты](https://github.com/lastuniverse/rabbit/tree/main/resources) реализуют UI игры.


Условно можно разделить все модули игры на
- `Model` - классы `World`, `Rabbit`, `Stopper`, `Trees`
- `Presenter` - главный класс игры `Main`
- `View` - все многослойные анимированные компоненты

(с той лишь оговоркой, что по условию задания небыло необходимости писать полноценную игру, и в результате я немного поленился и по факту классы `World`, `Stopper` и `Trees` частично совмещают в себе и `Model` и `View`)
